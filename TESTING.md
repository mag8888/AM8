# Автоматическое тестирование сайта

## Описание

Скрипты для автоматического тестирования сайта каждые 10 минут. Проверяют доступность страниц, API и критических ресурсов.

## Файлы

- `test-site.js` - Node.js скрипт для тестирования (рекомендуется)
- `test-site.sh` - Bash скрипт для тестирования
- `setup-auto-test.sh` - Скрипт для настройки автоматического запуска через cron
- `site-test.log` - Файл с логами тестирования

## Быстрый старт

### Ручной запуск

```bash
# Node.js (рекомендуется)
node test-site.js

# Bash
./test-site.sh
```

### Автоматический запуск каждые 10 минут

```bash
# Настройка автоматического запуска
./setup-auto-test.sh
```

Скрипт автоматически добавит задачу в crontab для запуска каждые 10 минут (0, 10, 20, 30, 40, 50 минут каждого часа).

## Просмотр логов

```bash
# Последние записи
tail -n 50 site-test.log

# Мониторинг в реальном времени
tail -f site-test.log

# Поиск ошибок
grep "❌" site-test.log
```

## Управление cron задачей

```bash
# Просмотр всех задач
crontab -l

# Редактирование задач
crontab -e

# Удаление всех задач (осторожно!)
crontab -r
```

## Что проверяется

1. ✅ Доступность главной страницы
2. ✅ Доступность игровой страницы
3. ⚠️ API health endpoint (может быть 404, это нормально)
4. ✅ Критические JavaScript файлы
5. ✅ Критические CSS файлы
6. ✅ Наличие ключевых элементов в HTML

## Результаты тестирования

Все проверки логируются в `site-test.log` с временными метками. Успешные проверки отмечаются ✅, проблемы - ❌ или ⚠️.

## Настройка

По умолчанию тестируется `https://am8-production.up.railway.app`. 

Для изменения URL отредактируйте переменную `SITE_URL` в файле `test-site.js`:

```javascript
const SITE_URL = 'https://your-site.com';
```
