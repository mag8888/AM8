/* Desktop: трехколоночная раскладка, поле по центру квадратом */
@media (min-width: 1025px) {
  .game-page {
    display: grid !important;
    grid-template-columns: 280px 1fr 350px !important;
    grid-template-rows: 1fr !important;
    grid-template-areas: "card-decks game-board players-panel" !important;
    gap: 1rem;
    align-items: stretch;
    justify-items: stretch;
  }
  #card-decks-panel.card-decks-container {
    grid-area: card-decks !important;
    display: flex !important;
    flex-direction: column !important;
    visibility: visible !important;
    opacity: 1 !important;
    min-width: 250px !important;
    width: 100% !important;
    min-height: 100vh !important;
    height: 100vh !important;
    max-height: 100vh !important;
    position: relative !important;
    transform: none !important;
    background: rgba(15, 23, 42, 0.95) !important;
    border-right: 2px solid rgba(148, 163, 184, 0.3) !important;
    padding: 1rem !important;
    box-sizing: border-box !important;
    z-index: 1 !important;
    overflow-y: auto !important;
    overflow-x: hidden !important;
  }
  .game-board-container {
    grid-area: game-board !important;
    display: flex !important;
    justify-content: center !important;
    align-items: center !important;
    min-height: 100vh !important;
    padding: 0.5rem !important;
  }
  .players-panel-container,
  #players-panel.top-panel-content {
    grid-area: players-panel !important;
    display: flex !important;
    flex-direction: column !important;
    visibility: visible !important;
    opacity: 1 !important;
    min-width: 250px !important;
    max-width: 400px !important;
    width: 100% !important;
    min-height: 100vh !important;
    height: 100vh !important;
    max-height: 100vh !important;
    position: relative !important;
    transform: none !important;
    background: rgba(15, 23, 42, 0.95) !important;
    border-left: 2px solid rgba(148, 163, 184, 0.3) !important;
    padding: 1rem !important;
    box-sizing: border-box !important;
    z-index: 1 !important;
    overflow-y: auto !important;
    overflow-x: hidden !important;
  }
  /* Квадратная доска по центру */
  .game-page .board-wrapper {
    width: min(90vmin, 90vw) !important;
    height: min(90vmin, 90vw) !important;
    aspect-ratio: 1 / 1 !important;
    margin: auto !important;
    max-width: 100% !important;
    max-height: 90vh !important;
    min-height: 420px !important;
  }
}

/* Mobile/tablet: вертикальная компоновка: игроки → поле → банк → колоды */
@media (max-width: 1024px) {
  .game-page {
    display: flex !important;
    flex-direction: column !important;
    height: auto !important;
    min-height: 100vh;
    grid-template-columns: 1fr !important;
    grid-template-areas: none !important;
    padding: 0.25rem;
    gap: 0.5rem;
  }
  .game-board-container {
    width: 100% !important;
    min-width: 100% !important;
    max-width: 100% !important;
    height: auto !important;
    min-height: 50vh;
    order: 2;
    padding: 0.5rem;
  }
  #card-decks-panel.card-decks-container,
  .players-panel-container,
  #players-panel.top-panel-content {
    display: flex !important;
    visibility: visible !important;
    opacity: 1 !important;
    width: 100% !important;
    min-width: 100% !important;
    max-width: 100% !important;
    height: auto !important;
    max-height: 40vh;
    order: 3;
    border-right: none !important;
    border-left: none !important;
    border-bottom: 1px solid rgba(148, 163, 184, 0.2);
    padding: 1rem;
    position: relative !important;
    transform: none !important;
  }
  /* Поле остаётся квадратом по ширине */
  .game-page .board-wrapper {
    width: 100% !important;
    max-width: 100vw !important;
    height: auto !important;
    aspect-ratio: 1 / 1 !important;
    margin: 0 auto !important;
    min-height: 320px !important;
  }
}

